\subsection{Data Modification}

1. Input user id

2. Read user base from firebase, get full information

3. If user not exist, show the user "User not exist"

3. If canModifyData is false, show the user "No permission"

4. If canModifyData is true, get language_code (type: str)

5. Read cultural_annotations_modified, return all the data with operation is empty and language_code matches user's language_code

6. start annotation

You are provided with data generated by the LLM based on cultural datasets, following predefined schemas. The table below lists the important fields:

\begin{table}[h]
\centering
\resizebox{\textwidth}{!}{
\begin{tabular}{l|p{13cm}}
\hline
\textbf{Field} & \textbf{Description} \\ \hline
\texttt{source\_excerpt}  & Quoted passage from the original source, used as context for generation \\ \hline
\texttt{topic}            & One of the predefined \TopicNum\ cultural topics used in the dataset \\ \hline
\texttt{scenario}         & A narrative context in which the question is framed or asked \\ \hline
\texttt{question}         & The formulated question based on the scenario \\ \hline
\texttt{answer}           & The correct answer (answer key) to the question \\ \hline
\texttt{explanation}      & Concise justification or reasoning for the answer \\ \hline
\end{tabular}
}
\caption{Schema fields in the provided dataset. These enforce consistency and structure across all data items.}
\label{tab:metadata_fields}
\end{table}

\textbf{Annotation Instructions:}

\begin{enumerate}
    \item \textbf{Annotation Tasks:}
    \begin{itemize}
        \item For each example, \textbf{Accept}, \textbf{Revise}, or \textbf{Reject} the item.
        \item If choosing \textbf{Revise}, update the relevant components (scenario, question, answer, explanation) to reflect the corrections based on \texttt{source\_excerpt}.
        \item Annotation options and their criteria:
        \begin{itemize}
            \item \textbf{Accept}: Select this option if the generated sample (scenario, question, answer, explanation) is correctly transformed according to \texttt{source\_excerpt}.
            \item \textbf{Revise}: Choose this option if the generated sample requires modifications based on \texttt{source\_excerpt}.
            \item \textbf{Reject}: Use this option if revising is impossible for the following reasons:
            \begin{itemize}
                \item \texttt{source\_excerpt} contains incorrect information.
                \item \texttt{source\_excerpt} is subjective and not objective.
                \item The generated sample or transformation cannot be reasonably revised.
            \end{itemize}
        \end{itemize}
    \end{itemize}
\end{enumerate}

7. save annotation to firebase

8. get to the next sample
